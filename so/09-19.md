# Sistemi operativi: lezione 3 del 19-09-2025

## La fase di boostrap
Accendendo il computer, il PC è inizializzato all'indirzzo di un programma detto boot loader all'interno di una memoria read-only.
Vengono lanciati processi di sistema (anche chiamati daemon), che gestiscono i dispositivi.

## Multitasking
Più programmi sono caricati in memoria allo stesso tempo. Per passare da un prog a un altro
occorre un meccanismo di context switch. La virtualizzazione della memoria permette di caricare
più programmi in memoria creando indirizzi virtuali (in modo da rendere i programmi indipendenti dagli indirizzi fisici in memoria).
Nella fase di context switch, il program counter di ogni programma deve essere salvati in memoria
in modo da poter essere ricaricati nel registro program counter per passare dall'esecuzione
di un programmma all'altro.

Il context switch è una funzione del kernel che viene quindi eseguita in mezzo a un programma in modalità supervisore (kernel mode)
Le istruzioni kernel possono essere richiamate direttemente dai programmi usando istruzioni assembly (chiamate trap o nello specifico
system call), ma viene anche richiamata automaticamente dal sistema in base a un timer: un dispositivo hardware che invia un segnale di interrupt
alla CPU (normalmente non mascherabile).

## Gestione delle risorse
Le risorse sono CPU, memoria, I/O...
Un processo è un programma in esecuzione. Un processo ha bisogno di:
    * CPU
    * Memoria
    * Accesso ai file
    * dati in input
I processi single-threaded hanno un program counter che specifica l'indirizzo in memoria della prossima istruzione del programma, mentre un processo
con più thread ha bisogno di più program counter.

La gestione dei processi da parte del SO richiede la possibilità di creare, eliminare, sospendere e riprendere l'esecuzione di processi sia
utente che di sistema. Inoltre il SO deve includere meccanismi per la sincronizzazione e comunicazione tra processi, e meccanismi per la gestione
di una situazione di deadlock
