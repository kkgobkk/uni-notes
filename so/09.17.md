# Sistemi Operativi 17-09

## Interrupt
Un interrupt è un bus hardware che permette hai dispositivi di chiedere attenzione al processore. Il processore ha un piedino specifico (int) usato
per ricevere i segnali di richiesta di interrupt. Quando si parla di bus non si parla solo dei collegamenti ma anche della policy di arbitraggio di
tali collegamenti. Ci sono due tipi di interrupt:
    * mascherabili: possono essere ignorati dal processore
    * non mascherabili o non recuperabili: il processore è costretto a gestire l'interrupt indipendentemente dalle sue altre attività

## Eccezioni
Sono simili agli interrupt ma sono generati direttamente all'interno del processore.

## Implementazione
    (1) il driver di periferica avvia l'I/O
    (2) ....

## Ciclo di Fetch-Decode-Execute
    (1) prendi la prossima istruzione dall memoria e mettila nell'instruction register
    (2) aumenta il program counter
    (3) determina il tipo dell'instruzione leggendo il suo CODOP
    (4) carica dati da memoria a un registro se necessari
    (5) svolgi l'operazione tra registri
    (6) CONTROLLA SE CI SONO RICHIESTE DI INTERRUPT
    (7) ritorna al punto 1

## Il vettore degli interrupt
Gli interrupt sono conservati in una struttura dati comparabile a un vettore, per cui non serve "cercare" il numero dell'interrupt,
ma basta saltare direttamente all'indirizzo di memoria corrispondente.

## Gestione degli interrupt
In caso di gestione degli interrupt è necessario salvare lo stato di computazione  attuale, che include il RA, PC
e registri generali. Non è necessario salvare tutti i registri temporanei usati dal processore per immplementare le operazioni, che verrebbero
comunque sovrascritti alla fine dell'esecuzione dell'istruzione corrente.

## Interrupt in un sistema multicore
In un sistema multicore ogni interrupt è dirottato verso un unico processore da un chip controllore degli interrupt programmabile che distribuisce
a seconda di qualche policy.

## Memoria
LA CPU può caricare istruzioni esclusivamente dalla memoria, quindi qualunque programma deve essere caricato al suo interno. (l'architettura
che rispetta questa proprietà è detta architettura a programma memorizzato o di Von Neumann).

I computer hanno diversi tipi di memoria: 
    * EEPROM (per la fase di bootstrap ad esempio)
    * flash o altri tipi di memoria di massa
    * DRAM (più lenta e economica) o SRAM (di solito usata per le cache)

L'interazione tra CPU e memoria avviene tramite una sequenza di istruzioni di load e store.

## Multicore e Multicomputer
I multiocore sono shared memory systems, che si dividono in
    * uniform memory access
    * non-uniform memory access
    * accelerated

I multicommputer sono sistemi come cluster computer, grid computer, cloud computer, eccetera
